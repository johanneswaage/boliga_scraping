function getTypeName(n){var t="";switch(n){case 10:t="Landsdel";break;case 20:t="Kommune";break;case 30:t="Stednavn";break;case 40:t="By";break;case 50:t="Vej";break;case 60:t="Område";break;case 900:t="Gå direkte til bolig"}return t}function WriteSearchToCookie(n){var t=ReadSearchesFromCookie();t.then(function(t){var i=!1,r;$.each(t,function(t,r){var u=r.searchName;u==n.searchName&&(i=!0)});i===!1&&t.unshift(n);t.length>3&&(t=t.slice(0,3));r=JSON.stringify(t);$.cookie("searches",r,{path:"/"})})}function ReadSearchesFromCookie(){var n=$.cookie("searches"),t=[];return n!=null&&(t=JSON.parse(n)),new Promise(function(n){n(t)})}function makePopupLoader(){$("#popupTemplate").removeClass("hidden");$("#outer-wrap").addClass("frostedGlass");$("#popupTemplate").click(function(n){n.target.id=="popupTemplate"&&hidePopup()})}function loadPartial(n,t){var i=$("#popBody");switch(n){case"login":i.load("/account/loginBox",function(){showPopup();$("#slLogInUser").focus();t&&t()});break;case"signup":i.load("/account/signupBox",function(){showPopup();$("#slSignUpEmail").focus();t&&t()});break;case"searchagent":i.load("/account/searchAgentBox",function(){showPopup();$("#agentName").focus();t&&t()});break;case"saleagent":i.load("/account/saleAgentBox",function(){showPopup();$("#agentemail").focus();t&&t()});break;case"newslettersignup":i.load("/account/newsletterSignupBox",function(){showPopup();$("#newsletter").focus();t&&t()});break;case"errorMessage":i.load("/account/errorMessageBox",function(){showPopup();t&&t()});break;default:i.load("/account/MessageBox",function(){showPopup();$("#messageText").html(n);t&&t()})}}function showPopup(){$("#popWrapper").removeClass("hidden");$('[data-js="fadeLoader"]').addClass("hidden");isMobile&&($("body").css("overflow","hidden"),$("body").css("position","fixed"))}function hidePopup(){$("#popupTemplate").addClass("hidden");$("#popWrapper").addClass("hidden");$("#outer-wrap").removeClass("frostedGlass");$('[data-js="fadeLoader"]').removeClass("hidden");isMobile&&($("body").css("overflow","auto"),$("body").css("position","relative"))}function selectArea(n){emptyArea();$("#checkValue").val(n.Name);switch(n.Type){case 20:$("#kom").val(n.Municipality);break;case 30:$("#iPostnr").val(n.ZipCode);$("#stednavn").val(n.Place);break;case 40:$("#iPostnr").val(n.ZipCode);break;case 50:var t=n.Name.substring(0,n.Name.indexOf(n.ZipCode)-2);$("#iPostnr").val(n.ZipCode);$("#gade").val(t);break;case 60:$("#area").val(n.AreaId)}}function emptyArea(){$("#kom").val("");$("#stednavn").val("");$("#iPostnr").val("");$("#gade").val("");$("#area").val("");$("#freetextEstateSearch").val("")}function allAreasEmpty(){return $("#kom").val()==""&&$("#stednavn").val()==""&&$("#iPostnr").val()==""&&$("#gade").val()==""&&$("#area").val()==""}function selectAddress(n){document.location.href="/bbrinfo/"+n.id}function updateSearchText(n){var t="";switch(n.Type){case 20:t="i "+n.Name+" kommune";break;case 30:case 60:t="i "+n.Name;break;case 40:t="i "+n.ZipCode+" "+n.Name;break;case 50:t="på "+n.Name}}function getQueryParameterByName(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var isMobile,a_cache,a_lastEstateXhr,b_cache,b_lastEstateXhr;(function(n){function t(n,t){makePopupLoader();switch(n.toLowerCase()){case"login":loadPartial("login",t);break;case"signup":loadPartial("signup",t);break;case"searchagent":loadPartial("searchagent",t);break;case"saleagent":loadPartial("saleagent",t);break;case"newslettersignup":loadPartial("newslettersignup",t);break;case"errormessage":loadPartial("errorMessage",t);break;case"openinpagepopup":showPopup();break;default:loadPartial(n,t)}}n.fn.autocompleteIncreasingPrice=function(){return this.each(function(){var r=n(this);if(r.attr("data-active")!="true"||r.attr("data-active")==undefined){var t=r.find("[data-js='Input']"),f=r.find("[data-js='PostInput']"),i=r.find("[data-js='Dropdown']");r.attr("data-active","true");t.focus(function(){var t=n(this).val();n(this).val(o(t));i.html("")});t.on("input",function(){var n=t.val(),o="",s,r,f,e,h;if(n!=0&&n!="")for(n=n.toString(),s=9-n.length,r=1;r<=s;r++){for(f="";f.length<r;f+="0");e=n+f;h=u(e);o+="<a data-price='"+e+"'>"+h+"<\/a>"}i.html(o);i.removeClass("hidden")});t.keydown(function(r){var u=r.keyCode,o=n(this);if((u===13||u===38||u===40||u===8)&&(!(u<=97)||!(u>=105))){var f=i.find("a"),s=f.filter(".selected"),e=f.index(s);if(u===13){if(e===-1)return;t.blur();return}u===38?(r.preventDefault(),o=e===-1||e===0?f.eq(f.length-1):f.eq(e-1)):u===40&&(r.preventDefault(),o=e===-1||e===f.length-1?f.eq(0):f.eq(e+1));f.removeClass("selected");o.addClass("selected")}});i.on("hover","a",function(){n(this).siblings().removeClass("selected");n(this).addClass("selected")});t.blur(function(){var s=i.find(".selected"),t,r,o;s.length>0?(e(s),o=s.data("price")):(t=n(this).val(),parseInt(t)>0&&t!=""?(r=t.replace(/^0+/,""),r=u(r),o=t):(r="",o=""),n(this).val(r));f.attr("value",o);i.html("");i.addClass("hidden")});function e(n){var i=n.text();t.val(i)}function u(n){var n=n.replace(/\B(?=(\d{3})+(?!\d))/g,".")+" kr.";return n}function o(n){return n.replace(/\D/g,"")}t.val()&&t.blur()}})};n.fn.autocompleteIncreasingPriceMainsearchBar=function(){return this.each(function(){var r=n(this);if(r.attr("data-active")!="true"||r.attr("data-active")==undefined){var t=r.find("[data-js='Input']"),o=r.find("[data-js='PostInput']"),u=r.find("[data-js='Dropdown']"),i=u.find("[data-js='dropdownPlaceholder']"),f="<a data-price='100000'><h4>100.000 kr.<\/h4><\/a><a data-price='250000'><h4>250.000 kr.<\/h4><\/a><a data-price='500000'><h4>500.000 kr.<\/h4><\/a><a data-price='1000000'><h4>1.000.000 kr.<\/h4><\/a><a data-price='5000000'><h4>5.000.000 kr.<\/h4><\/a>";r.attr("data-active","true");t.focus(function(){var r=n(this).val(),t;n(this).val(h(r));i.html(f);t=!(window.mozInnerScreenX==null);t?n(this).prop("type",""):n(this).prop("type","number");u.removeClass("hidden")});t.on("input",function(){var n=t.val(),o="",s,r,u,f,h;if(n!=0&&n!="")for(n=n.toString(),s=9-n.length,r=1;r<=s;r++){for(u="";u.length<r;u+="0");f=n+u;h=e(f);o+="<a data-price='"+f+"'><h4>"+h+"<\/h4><\/a>"}i.html(o)});t.keydown(function(r){var u=r.keyCode,o=n(this);if((u===13||u===38||u===40||u===8)&&(!(u<=97)||!(u>=105))){var f=i.find("a"),s=f.filter(".selected"),e=f.index(s);if(u===13){if(e===-1)return;t.blur();return}u===38?(r.preventDefault(),o=e===-1||e===0?f.eq(f.length-1):f.eq(e-1)):u===40&&(r.preventDefault(),o=e===-1||e===f.length-1?f.eq(0):f.eq(e+1));f.removeClass("selected");o.addClass("selected")}});i.on("hover","a",function(){n(this).siblings().removeClass("selected");n(this).addClass("selected")});i.on("mouseleave",function(){n(this).find(".selected").removeClass("selected")});t.blur(function(){var h,t,r,c;n(this).prop("type","text");h=i.find(".selected");h.length>0?(s(h),c=h.data("price")):(t=n(this).val(),parseInt(t)>0&&t!=""?(r=t.replace(/^0+/,""),r=e(r),c=t):(r="",c=""),n(this).val(r));o.attr("value",c);i.html(f);u.addClass("hidden")});function s(n){var i=n.text();t.val(i)}function e(n){var n=n.replace(/\B(?=(\d{3})+(?!\d))/g,".")+" kr.";return n}function h(n){return n.replace(/\D/g,"")}t.val()&&t.blur()}})};n.fn.numberSpinnerOnInput=function(){return this.each(function(){var r=n(this),a,v,s,h;if(r.attr("data-active")!="true"||r.attr("data-active")==undefined){var t=n(this).find("[data-js='Input']"),y=n(this).find("[data-js='addBtn']"),p=n(this).find("[data-js='subtractBtn']"),i=t.attr("min"),f=t.attr("max"),l=t.data("suggestion")||null,c=r.find(".numInputBefore"),w=r.find(".numInputafter"),e=t.data("spinnertype"),o=parseInt(t.data("counterjump"))||1;r.attr("data-active","true");e=="min"&&t.attr("placeholder","0");e=="max"&&t.attr("placeholder","-");t.val()!==""&&u(t.val());n(this).click(function(){t.focus()});t.on("input",function(){var n=parseInt(t.val());u(n)});t.blur(function(){var r=parseInt(t.val());r<i&&t.attr("value",i);u(n(this).val())});a=r.width();v=a-18-c.width()-w.width();function u(n){var i=!n||n<=9?10:parseInt(n.toString().length)*8,n=parseInt(t.val());i>v?(c.addClass("small"),t.addClass("small")):(c.removeClass("small"),t.removeClass("small"));t.css("width",i)}s=null;h=null;y.on("mousedown",function(){var c,n;e=="max"&&(i=parseInt(r.closest("[data-js='numInputWrapper']").find("input[data-spinnertype='min']").val())||i);e=="min"&&(f=parseInt(r.closest("[data-js='numInputWrapper']").find("input[data-spinnertype='max']").val())||f);c=t.val();c==""&&(c=l?parseInt(l)-1:parseInt(i));n=parseInt(c);n=n+1*o;n=n=n>f?f:n;t.attr("value",n);u(n);s=setTimeout(function(){h=setInterval(function(){n=n+1*o;n=n=n>f?f:n;t.attr("value",n);u(n)},75)},500)}).on("mouseup mouseleave",function(){clearTimeout(s);clearInterval(h)});p.on("mousedown",function(){e=="max"&&(i=parseInt(r.closest("[data-js='numInputWrapper']").find("input[data-spinnertype='min']").val())+1*o||i);var n=parseInt(t.val());n=n-1*o;n=n=n<i?i:n;t.attr("value",n);u(n);s=setTimeout(function(){h=setInterval(function(){n=n-1*o;n=n=n<i?i:n;t.attr("value",n);u(n)},75)},500)}).on("mouseup mouseleave",function(){clearTimeout(s);clearInterval(h)});t.val()&&t.blur()}})};n.fn.openPopupOnClick=function(i,r){var u=n("#popHeader"),f=n("#popBody");return this.each(function(){n(this).click(function(n){n.preventDefault();typeof SaveSearch=="function"?SaveSearch(function(){t(i,r)}):t(i,r)})})};n.openPopup=function(i,r){var u=n("#popHeader"),f=n("#popBody");t(i,r)};n.fn.autocompleteAdress=function(t){this.autocompletegrouped({minLength:1,source:function(i,u){var f=i.term;if(f in a_cache){u(a_cache[f]);return}r={q:f,limit:20,timestamp:(new Date).getTime()};a_lastEstateXhr=n.getJSON(t,r,function(n,t,i){a_cache[f]=n;i===a_lastEstateXhr&&u(n)})},search:function(){n(this).addClass("working")},response:function(){n(this).removeClass("working")},focus:function(){},open:function(){var t=n(this).val(),i=a_cache[t][0].Name,r=i.substring(t.length);t.toLowerCase()==i.substring(0,t.length).toLowerCase()?n(this).siblings("#Suggestion").attr("placeholder",t+r):n(this).siblings("#Suggestion").attr("placeholder","")},close:function(){n(this).siblings("#Suggestion").attr("placeholder","")},change:function(){n(this).removeClass("working");var t=a_cache[n(this).val()];t&&t!=null&&t.length>0&&(selectArea(t[0]),n(this).val(t[0].Name))},select:function(t,i){return i.item!=null&&(n(this).siblings("#Suggestion").attr("placeholder",""),n(this).val(i.item.Name),selectArea(i.item)),!1}})};n.fn.autocompletePropertyAddress=function(t){this.autocomplete({minLength:1,search:function(){n(this).addClass("working")},source:function(i,u){var f=i.term;if(f in b_cache){u(b_cache[f]);return}r={q:f,limit:40,timestamp:(new Date).getTime(),zip:"0"};b_lastEstateXhr=n.getJSON(t,r,function(n,t,i){b_cache[f]=n;i===b_lastEstateXhr&&u(n)})},focus:function(t,i){return i.item!=null&&(n(this).siblings("#Suggestion").attr("placeholder",""),n(this).val(i.item.street+", "+i.item.zipcode+" "+i.item.city),updateSearchText(i.item)),!1},open:function(){n(this).siblings(".NoResult").remove();var t=n(this).val(),i=b_cache[t][0].street+", "+b_cache[t][0].zipcode+" "+b_cache[t][0].city,r=i.substring(t.length);t.toLowerCase()==i.substring(0,t.length).toLowerCase()?n(this).siblings("#Suggestion").attr("placeholder",t+r):n(this).siblings("#Suggestion").attr("placeholder","");n(this).removeClass("working")},close:function(){var i,t;n(this).siblings("#Suggestion").attr("placeholder","");i=n(this).val();i!=""&&(t=b_cache[n(this).val()][0],t?(n(this).val(t.street+", "+t.zipcode+" "+t.city),n(this).attr("data-itemid",t.id)):n(this).after("<div class='NoResult'><p>Intet resultat<\/p><\/div>"))},select:function(n,t){return t.item!=null&&selectAddress(t.item),!1}}).keydown(function(t){if(t.keyCode===13&&(t.preventDefault(),selectAddress(b_cache[n(this).val()][0]),n(this).autocompletegrouped("close")),t.keyCode===9&&n(this).autocompletegrouped("close"),t.keyCode===39){var i=n(this).siblings("#Suggestion").attr("placeholder"),r=n(this).val();i=i.substring(0,r.length+1);n(this).val(i)}})};n.fn.hoverDropdownMenu=function(){return this.each(function(){var t=n(this),i=t.children(".dropdownMenu");t.mouseenter(function(){i.removeClass("hidden")});t.mouseleave(function(){i.addClass("hidden")})})}})(jQuery);isMobile=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(isMobile=!0);$.widget("custom.autocompletegrouped",$.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(n,t){var r=this,i="";$.each(t,function(t,u){var f;u.Type!=i&&(n.append("<li class='ui-autocomplete-category'>"+getTypeName(u.Type)+"<\/li>"),i=u.Type);f=r._renderItemData(n,u);u.Type&&f.attr("aria-label",u.Type+" : "+u.Name)})},_renderItem:function(n,t){return $("<li>").attr("data-value",t.value).append(t.Name).appendTo(n)}});a_cache={};$.widget("custom.autocomplete",$.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderItem:function(n,t){return $("<li>").attr("data-value",t.value).append(t.street+", "+t.zipcode+" "+t.city).appendTo(n)}});b_cache={};$(document).on("click","[data-js=popClose]",function(){hidePopup()});jQuery.fn.extend({toggleText:function(n,t){var i=this;return i.text()!=n&&i.text()!=t?i.text(n):i.text()==n?i.text(t):i.text()==t&&i.text(n),this}});
//# sourceMappingURL=BoligaPlugins.min.js.map
